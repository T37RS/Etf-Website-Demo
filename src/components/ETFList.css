.etf-table-container {
  max-width: 1100px;
  margin: 20px auto;
  padding: 24px;
  background: rgba(24,28,36,0.9);
  border-radius: 12px;
  box-shadow: 0 6px 30px rgba(79,140,255,0.08);
  animation: fadeIn 0.7s;
  overflow-x: hidden; /* prevent any accidental horizontal scroll */
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(16px);}
  to { opacity: 1; transform: translateY(0);}
}

.etf-table-container h2 {
  margin-bottom: 16px;
  font-size: 1.4em;
  color: #4f8cff;
  text-align: left;
  letter-spacing: 1px;
}

.etf-search {
  width: 100%;
  padding: 12px 16px;
  margin-bottom: 18px;
  border: 1px solid rgba(60,68,80,0.6);
  border-radius: 8px;
  font-size: 1em;
  background: rgba(16,18,22,0.4);
  color: #f4f7fa;
  transition: border 0.2s;
  outline: none;
}

.etf-search:focus { border: 1.5px solid #4f8cff; }

.etf-table { width: 100%; border-collapse: collapse; background: transparent; font-size: 1.02em; }

.etf-table th, .etf-table td { padding: 12px 10px; text-align: left; transition: background 0.2s; }

.etf-table th {
  background: rgba(24,28,36,0.95);
  color: #b0b8c1;
  font-weight: 600;
  border-bottom: 2px solid rgba(60,68,80,0.6);
  cursor: pointer;
}

.etf-table th.active-sort { color: #4f8cff; }

.sort-arrow { font-size: 0.9em; margin-left: 4px; }

.etf-table tr { transition: background 0.25s, box-shadow 0.25s; }

.etf-table tr.etf-row:hover { background: rgba(40,48,60,0.6); box-shadow: 0 2px 12px rgba(79,140,255,0.06); transform: scale(1.01); }

.etf-symbol { font-weight: 700; color: #f4f7fa; font-size: 1.05em; }

.etf-price { color: #00ffd0; font-weight: 600; }
.etf-return { color: #4f8cff; }
.etf-expense { color: #ff6b81; }
.etf-aum { color: #cfe8ff; }

.no-results { margin-top: 24px; color: #ff6b81; text-align: center; font-size: 1.1em; }

/* Responsive input row for simulator and forms */
.sim-controls { display: flex; gap: 12px; align-items: flex-end; flex-wrap: wrap; }
.sim-controls > label { min-width: 160px; flex: 1 1 160px; }
.sim-controls input[type="number"], .sim-controls select { width: 100%; box-sizing: border-box; }

/* Returns list used by the simulator: responsive horizontal scroll + wrap */
.returns-list { display: flex; gap: 12px; overflow-x: auto; padding: 6px 2px; }
.return-item { padding: 10px; border-radius: 8px; min-width: 140px; flex: 0 0 auto; box-shadow: 0 2px 8px rgba(0,0,0,0.3); }

/* Matrix robot container (placed in sidebar) */
.matrix-robot { width: 140px; padding: 12px; display: flex; flex-direction: column; align-items: center; gap: 8px; }
.matrix-robot .robot-head { width: 80px; height: 56px; background: linear-gradient(180deg,#0f1720,#0b1220); border-radius: 8px; display:flex; align-items:center; justify-content:center; position: relative; box-shadow: 0 6px 20px rgba(79,140,255,0.06); }
.matrix-robot .eye { width: 14px; height: 14px; background: #00ffd0; border-radius: 50%; box-shadow: 0 0 8px #00ffd0; margin: 0 6px; animation: blink 3s infinite; }
.matrix-robot .eye.right { margin-left: 6px; }
.matrix-robot .robot-body { width: 92px; height: 64px; background: linear-gradient(180deg,#071018,#092028); border-radius: 10px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; }
.matrix-robot .panel { width: 72px; height: 12px; background: rgba(79,140,255,0.12); border-radius: 6px; }
.matrix-robot .panel.small { width: 48px; height: 8px; background: rgba(255,255,255,0.03); }
.matrix-robot .robot-legs { display:flex; gap: 8px; }
.matrix-robot .leg { width: 26px; height: 12px; border-radius:6px; background: linear-gradient(180deg,#0b1220,#071018); }
.matrix-robot .matrix-lines { position: absolute; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; }
.matrix-robot .mline { width: 100%; height: 2px; background: rgba(0,255,128,0.06); margin: 6px 0; transform-origin: left; animation: slide 1200ms linear infinite; }

@keyframes slide { from { transform: translateX(-10%); opacity: 0; } 50% { transform: translateX(0); opacity: 1; } to { transform: translateX(12%); opacity: 0; } }
@keyframes blink { 0%, 95% { transform: scaleY(1); } 96% { transform: scaleY(0.15); } 100% { transform: scaleY(1); } }

/* Recharts tooltip override - dark background with light text so dates are visible */
.recharts-default-tooltip {
  background: rgba(22,26,34,0.95) !important;
  color: #eef4ff !important;
  border: 1px solid rgba(255,255,255,0.04) !important;
}

/* Settings responsive tweak: ensure right column doesn't overlap */
@media (max-width: 900px) {
  .etf-table-container > div[style*='gridTemplateColumns'] { grid-template-columns: 1fr !important; }
}

/* Projections page layout tweaks */
.projections-grid { display: grid; grid-template-columns: minmax(0, 1fr) 280px; gap: 16px; align-items: start; }
@media (max-width: 900px) { .projections-grid { grid-template-columns: 1fr; } }
/* Ensure the projections chart stays compact */
.proj-chart { max-height: 200px; }
/* Allow grid children to shrink without forcing overflow */
.projections-grid > * { min-width: 0; }